# 02 讀取資料

## (1) 使用檔案

```
<測試>
   |__ index.js
   |
   |__ <lib>
         |__ db.js  
```


### (1-1) db.js

```javascript
var firebase = require('firebase');
 
//------------------------
// firebase設定
//------------------------
var config =  {
    apiKey: "(自己在firebase的資料)",
    authDomain: "(自己在firebase的資料)",
    databaseURL: "(自己在firebase的資料)",
    projectId: "(自己在firebase的資料)",
    storageBucket: "(自己在firebase的資料)",
    messagingSenderId: "(自己在firebase的資料)"
};

//----------------------------
// 匯出firebase資料庫物件
//----------------------------
firebase.initializeApp(config);
module.exports = firebase.database();
```



### (1-2) index.js

```javascript
//----------------------------
// 引用db.js
//----------------------------
var myDB = require('./lib/db.js');


//----------------------------
// 讀入一筆資料的函式
//----------------------------
function readData(stuNo){	
    return myDB.ref('/students/' + stuNo).once('value')
    .then(snapshot => {
        var stuName = (snapshot.val() && snapshot.val().stuName) || 'Anonymous';
        var gender = (snapshot.val() && snapshot.val().gender) || 'Anonymous';
        console.log(stuName);	
        console.log(gender);		 		
    })
    .catch(error => {
        console.log("error");
    });
}


//----------------------------
// 讀入資料
//----------------------------
readData('120001');
```
